@import '../../../common/styles/common.scss';

$table-height: px2rem(252px);
$wider-width: px2rem(200px);
$narrower-width: px2rem(160px);
$tr-height: $twenty-eight;

$border-color: $system-black-01;
$thead-color: #f5f8fb;

.container {
  position: relative;
  top: 0;
  left: 0;
  // clsx : isFullHeight ? $full-table-height : $table-height
  border: $one solid $border-color;
  overflow: auto;
  margin-top: $ten;

  /* scroll design */
  /* chrome */
  &::-webkit-scrollbar {
    width: $four;
    height: $four;
  }

  &::-webkit-scrollbar-track {
    background: transparent;
  }

  &::-webkit-scrollbar-thumb {
    background-color: $brand-blue-20;
    border-radius: $eight;
  }
}

/* default(non-horizontal-scrollable) Table Style */
.fullPageContainer {
  height: fit-content;
  max-height: 80vh;
}

.table {
  position: relative;
  top: 0;
  left: 0;
  table-layout: fixed;
  width: 100%;
  height: 100%;
  border-spacing: 0;
  background-color: $system-white;
  cursor: pointer;
  /* reset css */
  box-sizing: border-box;
  padding: 0;
  margin: 0;

  .header {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: $tr-height;
    display: flex;
    background-color: $thead-color;
    border-bottom: $one solid $border-color;
    z-index: 10;

    /* header's tr */
    .cell {
      width: $narrower-width;
      display: flex;
      text-align: left;
      white-space: nowrap;
      font-size: $twelve;
      font-weight: 400;

      &:last-of-type {
        width: auto; /* 나머지 너비 차지 */
        border-right: none;
      }

      th {
        width: $narrower-width;
        padding: $five 0 $five $twenty;
        border-right: $one solid $border-color;

        &:last-of-type {
          width: auto; /* 나머지 너비 차지 */
          border-right: none;
        }
      }
    }
  }

  .body {
    position: relative;
    width: 100%;
    height: 100%;
    display: table-row-group;
    background-color: $system-white;
    overflow: visible;

    /* scroll design */
    /* chrome */
    &::-webkit-scrollbar {
      width: $eight;
      height: $eight;
    }

    &::-webkit-scrollbar-track {
      background: transparent;
    }

    &::-webkit-scrollbar-thumb {
      background-color: $brand-blue-20;
      border-radius: $eight;
      border: $two solid $system-white;
    }

    /* body's tr */
    .cell {
      height: $tr-height;
      @include flex-vertical(flex-start, row);
      border-bottom: $one solid $border-color;

      td {
        width: calc($narrower-width);
        border-right: $one solid $border-color;
        text-align: left;
        font-size: px2rem(11px);
        padding: $five 0 $five $twenty;
        font-weight: 500;
        white-space: nowrap;

        &:last-of-type {
          width: auto; /* 나머지 너비 차지 */
          border-right: none;
        }
      }
    }
  }
}

/* horizontalScrollable Table Style */
/*
t-head :  z-index 10
t-body's first tr : z-index 5
*/
.halfPageContainer {
  position: relative;
  top: 0;
  left: 0;
  height: fit-content;
  max-height: $table-height;
  background-color: $system-white;
}

.HorizontalScrollableTable {
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  table-layout: fixed;
  border-spacing: 0;
  cursor: pointer;
  /* reset css */
  box-sizing: border-box;
  padding: 0;
  margin: 0;

  .header {
    position: sticky;
    top: 0;
    left: 0;
    height: $tr-height;
    background-color: $system-white;
    z-index: 10;

    /* header's tr */
    .widerCell {
      th {
        width: $wider-width;
        font-size: $twelve;

        &.selected {
          background: #e4edfaff;
        }
      }
    }
  }

  .body {
    height: auto;
    display: table-row-group;
    overflow: visible;

    /* scroll design */
    /* chrome */
    &::-webkit-scrollbar {
      width: $eight;
      height: $eight;
    }

    &::-webkit-scrollbar-track {
      background: transparent;
    }

    &::-webkit-scrollbar-thumb {
      background-color: $brand-blue-20;
      border-radius: $eight;
      border: $two solid $system-white;
    }
  }

  /* table's tr */
  tr {
    width: $wider-width;
    height: $tr-height;
    table-layout: fixed;
    display: table;
    border-bottom: $one solid $border-color;

    &:hover {
      background-color: #f6f7f8; // solid
    }

    /* thead & tbody's first tr */
    &:first-of-type {
      /* thead */
      th {
        font-size: $twelve;
        padding: $five $twenty;
        text-align: left;
        border-bottom: $one solid $border-color;
        border-color: $border-color;
        background-color: $thead-color;

        &:first-of-type {
          position: sticky;
          top: 0;
          left: 0;
          width: calc(
            $wider-width - px2rem(33px)
          ); // 33 = padding(30) + double border(3)
          border-right-style: double;
          background-color: $thead-color;
        }

        &:not(:first-of-type) {
          width: calc(
            $wider-width - px2rem(41px)
          ); // 41 = padding(40) + border(1)
          border-right-style: solid;
          border-width: $one;
        }

        &:last-of-type {
          border-right: none;
        }
      }
    }

    &:last-of-type {
      border: none;
    }
  }

  /* tbody td */
  td {
    white-space: nowrap;
    padding: $five $twenty;
    border-color: $border-color;
    box-sizing: border-box;

    &:first-of-type {
      position: sticky;
      top: 0;
      left: 0;
      width: calc($wider-width + $ten);
      background-color: inherit;
      border-right-style: double;
      font-size: $twelve;
      z-index: 5;
    }

    /* 가동내역 뒤에 숨겨진 undefined 열 부분 */
    &:nth-of-type(2) {
      width: calc($wider-width + $ten);
    }

    /* 스크롤 가능한 영역 중 첫 번째 열 */
    &:nth-of-type(3) {
    }

    &:not(:first-of-type) {
      width: $wider-width;
      font-size: px2rem(11px);
      border-right: $one solid $border-color;
    }

    &:last-of-type {
      border-right: none;
    }
  }
}

.tableRow {
  background-color: $system-white;

  /* hover */
  &.hover {
    background-color: #f0f2f5; // opacity
  }

  /* selected */
  &.selected {
    background-color: $brand-blue-10; // opacity
    color: $brand-blue-50;

    &:hover {
      background-color: #e9ebeeff; // solid
    }

    td {
      position: relative;

      &:first-of-type {
        position: sticky;
        top: 0;
        left: 0;

        &::before {
          display: none;
          content: '';
          width: $four;
          height: $twenty;
          border-radius: 100px;
          background-color: $brand-blue-50;
          position: absolute;
          left: $five;
          top: 50%;
          transform: translateY(-50%);
        }
      }
    }

    td:first-of-type::before {
      display: inline-block;
    }
  }

  /* 비활성화 */
  &.deactivated {
    color: $system-black-04;
  }
}

/* selected header */
.header.selected {
  background-color: $brand-blue-10;

  &:hover {
    background-color: #e9ebeeff; // solid
  }
}

.highlighted {
  background-color: $system-black-01;
  color: $brand-blue-50;
}
